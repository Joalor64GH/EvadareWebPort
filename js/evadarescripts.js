let moreSoundsUnlock="true"===localStorage.getItem("evadare_unlock-moreSounds"),LastBonus="true"===localStorage.getItem("evadare_unlock-lastBonus");function shakeScreen(){navigator.vibrate(500);const e=document.body,t=Date.now()+1e3;!function n(){const o=Math.max(0,t-Date.now()),a=10*(o/1e3);if(o>0){const t=(Math.random()-.5)*a*2,o=(Math.random()-.5)*a*2;e.style.transform=`translate(${t}px, ${o}px)`,requestAnimationFrame(n)}else e.style.transform=""}()}document.addEventListener("DOMContentLoaded",(()=>{if(!moreSoundsUnlock){function e(){const e=document.getElementById("picto21"),t=document.getElementById("picto20");let n=!1;return e&&(e.remove(),n=!0),t&&(t.remove(),n=!0),n}if(e())return;const t=new MutationObserver((()=>{e()&&t.disconnect()}));t.observe(document.body,{childList:!0,subtree:!0});const n=setInterval((()=>{e()&&(clearInterval(n),t.disconnect())}),500);setTimeout((()=>{clearInterval(n),t.disconnect()}),2e4)}}));const unlockSound=new Audio("evadare/bt-unlock-sound.ogg");function waitForElement(){if("4"===new URLSearchParams(window.location.search).get("v")){const e=document.getElementById("bt-bonus-3");e&&!LastBonus&&(LastBonus=!0,e.id="bt-bonus-cutscene",e.addEventListener("click",(()=>{if("2"===localStorage.getItem("v4-bonus-complete")){shakeScreen(),unlockSound.play(),pauseGame(),document.querySelectorAll("audio, video").forEach((e=>{e.pause(),e.muted=!0}));const t=document.createElement("style");t.textContent="\n                        * {\n                            pointer-events: none !important;\n                        }\n                    ",document.head.appendChild(t);const n=document.getElementById("lock-pause");n?n.remove():console.log("No 'lock-pause' element found."),e.classList.add("animate");const o=document.getElementById("box-picto");o&&o.classList.add("shake2","fade","hide"),moreSoundsUnlock=!0,LastBonus=!0,localStorage.setItem("evadare_unlock-moreSounds",String(moreSoundsUnlock)),localStorage.setItem("evadare_unlock-lastBonus",String(LastBonus)),setTimeout((()=>{window.location.href="asset-v4/cutscene/cutscene.min.html"}),3e3)}})),interval&&clearInterval(interval))}else interval&&clearInterval(interval)}const interval=setInterval(waitForElement,100);